<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>雷諾曼卡占卜 - 神秘預言</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 2rem;
            padding: 2rem 0;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .card-spread {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .card {
            aspect-ratio: 2/3;
            background: linear-gradient(145deg, #2c3e50, #34495e);
            border-radius: 15px;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: all 0.6s ease;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .card:hover {
            transform: translateY(-10px) rotateY(5deg);
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
        }

        .card-back {
            background: linear-gradient(145deg, #2c3e50, #34495e);
            color: white;
            font-size: 3rem;
        }

        .card-front {
            background: linear-gradient(145deg, #ecf0f1, #bdc3c7);
            transform: rotateY(180deg);
            text-align: center;
            color: #2c3e50;
        }

        .card-number {
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #7f8c8d;
        }

        .card-symbol {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .card-name {
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 0.3rem;
        }

        .card-meaning {
            font-size: 0.7rem;
            text-align: center;
            line-height: 1.2;
            color: #5a6c7d;
        }

        .controls {
            text-align: center;
            margin-bottom: 2rem;
        }

        .btn {
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 0 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }

        .btn.secondary {
            background: linear-gradient(145deg, #3498db, #2980b9);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .btn.secondary:hover {
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .reading-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
        }

        .reading-section.show {
            display: block;
            animation: fadeInUp 0.6s ease;
        }

        .selected-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 2rem;
        }

        .selected-card {
            background: white;
            border-radius: 15px;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .interpretation {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .interpretation h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .interpretation p {
            line-height: 1.6;
            color: #5a6c7d;
        }

        .mode-selector {
            text-align: center;
            margin-bottom: 2rem;
        }

        .mode-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .mode-btn.active {
            background: rgba(255, 255, 255, 0.9);
            color: #2c3e50;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            .card-spread {
                grid-template-columns: repeat(6, 1fr);
                gap: 10px;
            }

            .card-symbol {
                font-size: 2rem;
            }

            .card-name {
                font-size: 0.8rem;
            }

            .card-meaning {
                font-size: 0.6rem;
            }

            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
                margin: 5px;
            }

            .reading-section {
                padding: 1rem;
            }

            .selected-cards {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .card-spread {
                grid-template-columns: repeat(4, 1fr);
                gap: 8px;
            }

            header h1 {
                font-size: 1.5rem;
            }

            .card-symbol {
                font-size: 1.5rem;
            }

            .card-name {
                font-size: 0.7rem;
            }

            .card-meaning {
                font-size: 0.55rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>🔮 雷諾曼卡占卜</h1>
            <p>探索命運的神秘指引，揭示未來的秘密</p>
        </header>

        <div class="mode-selector">
            <button class="mode-btn active" data-mode="single">單卡占卜</button>
            <button class="mode-btn" data-mode="three">三卡牌陣</button>
            <button class="mode-btn" data-mode="five">五卡牌陣</button>
        </div>

        <div class="controls">
            <button class="btn" onclick="drawCards()">抽卡占卜</button>
            <button class="btn secondary" onclick="resetCards()">重新開始</button>
            <button class="btn secondary" onclick="shuffleCards()">洗牌</button>
        </div>

        <div class="card-spread" id="cardSpread">
            <!-- 卡片將由 JavaScript 生成 -->
        </div>

        <div class="reading-section" id="readingSection">
            <h2>🌟 占卜結果</h2>
            <div class="selected-cards" id="selectedCards"></div>
            <div class="interpretation" id="interpretation"></div>
        </div>
    </div>

    <script>
        // 雷諾曼卡數據（36張卡片）
        const lenormandCards = [
            { id: 1, name: "騎士", symbol: "🏇", meaning: "消息、快速變化、年輕男性", interpretation: "代表即將到來的消息或快速的變化。可能是好消息的到來，或是需要迅速行動的時機。" },
            { id: 2, name: "三葉草", symbol: "🍀", meaning: "幸運、機會、希望", interpretation: "象徵幸運和機會的到來。小小的幸福和正面的變化即將發生。" },
            { id: 3, name: "船", symbol: "⛵", meaning: "旅行、遠方、探索", interpretation: "代表旅行、遠方的事物，或是探索新領域的渴望。可能暗示搬遷或遠行。" },
            { id: 4, name: "房屋", symbol: "🏠", meaning: "家庭、安全、穩定", interpretation: "象徵家庭、安全感和穩定。與家庭相關的事務或尋求安全感的需求。" },
            { id: 5, name: "樹", symbol: "🌳", meaning: "健康、成長、根基", interpretation: "代表健康、成長和深厚的根基。可能與健康問題或個人成長有關。" },
            { id: 6, name: "雲", symbol: "☁️", meaning: "困惑、不確定、障礙", interpretation: "象徵困惑、不確定性或暫時的障礙。事情可能不如表面看起來清楚。" },
            { id: 7, name: "蛇", symbol: "🐍", meaning: "欺騙、複雜、女性", interpretation: "代表複雜的情況、欺騙或狡猾的女性。需要小心處理人際關係。" },
            { id: 8, name: "棺材", symbol: "⚰️", meaning: "結束、轉變、疾病", interpretation: "象徵結束、重大轉變或健康問題。舊的階段結束，新的開始即將到來。" },
            { id: 9, name: "花束", symbol: "💐", meaning: "禮物、邀請、社交", interpretation: "代表禮物、邀請或社交活動。人際關係中的正面發展。" },
            { id: 10, name: "鐮刀", symbol: "🗡️", meaning: "危險、突然、收穫", interpretation: "象徵突然的變化、危險或收穫的時刻。需要謹慎行事。" },
            { id: 11, name: "鞭子", symbol: "🔗", meaning: "爭論、重複、運動", interpretation: "代表爭論、重複的模式或體育活動。可能有衝突需要解決。" },
            { id: 12, name: "鳥", symbol: "🐦", meaning: "對話、焦慮、社交", interpretation: "象徵對話、交流或焦慮。與溝通和社交互動相關。" },
            { id: 13, name: "孩子", symbol: "👶", meaning: "新開始、純真、小事", interpretation: "代表新的開始、純真或小規模的事物。新項目或創意的萌芽。" },
            { id: 14, name: "狐狸", symbol: "🦊", meaning: "狡猾、工作、欺騙", interpretation: "象徵狡猾、工作環境或可能的欺騙。需要運用智慧和謹慎。" },
            { id: 15, name: "熊", symbol: "🐻", meaning: "力量、保護、母親", interpretation: "代表力量、保護和母性能量。強大的支持者或權威人物。" },
            { id: 16, name: "星星", symbol: "⭐", meaning: "希望、願望、指引", interpretation: "象徵希望、願望的實現和精神指引。夢想有實現的可能。" },
            { id: 17, name: "鸛", symbol: "🦢", meaning: "變化、搬遷、季節", interpretation: "代表重大變化、搬遷或季節性的轉變。生活中的重要轉折點。" },
            { id: 18, name: "狗", symbol: "🐕", meaning: "忠誠、友誼、可靠", interpretation: "象徵忠誠、真正的友誼和可靠的支持。值得信賴的朋友或夥伴。" },
            { id: 19, name: "塔", symbol: "🗼", meaning: "孤獨、權威、機構", interpretation: "代表孤獨、權威機構或官僚體系。可能需要獨立思考。" },
            { id: 20, name: "花園", symbol: "🌺", meaning: "社交、公眾、聚會", interpretation: "象徵社交活動、公眾場合或聚會。人際網絡的重要性。" },
            { id: 21, name: "山", symbol: "⛰️", meaning: "障礙、挑戰、延遲", interpretation: "代表障礙、挑戰或延遲。需要耐心和毅力來克服困難。" },
            { id: 22, name: "道路", symbol: "🛤️", meaning: "選擇、決定、方向", interpretation: "象徵選擇、重要決定或人生方向。面臨重要的十字路口。" },
            { id: 23, name: "老鼠", symbol: "🐭", meaning: "損失、減少、壓力", interpretation: "代表損失、逐漸減少或壓力。需要注意資源的保護。" },
            { id: 24, name: "心", symbol: "❤️", meaning: "愛情、情感、快樂", interpretation: "象徵愛情、深刻的情感和內心的快樂。感情生活的重要發展。" },
            { id: 25, name: "戒指", symbol: "💍", meaning: "承諾、合約、循環", interpretation: "代表承諾、合約或循環的模式。重要的約定或協議。" },
            { id: 26, name: "書", symbol: "📚", meaning: "知識、秘密、學習", interpretation: "象徵知識、隱藏的秘密或學習的機會。重要信息的揭示。" },
            { id: 27, name: "信", symbol: "✉️", meaning: "消息、文件、溝通", interpretation: "代表重要消息、文件或正式溝通。可能收到重要的信息。" },
            { id: 28, name: "男人", symbol: "👨", meaning: "男性、陽性能量、行動", interpretation: "象徵重要的男性人物或陽性能量。行動和決斷力的體現。" },
            { id: 29, name: "女人", symbol: "👩", meaning: "女性、陰性能量、直覺", interpretation: "代表重要的女性人物或陰性能量。直覺和感性的重要性。" },
            { id: 30, name: "百合", symbol: "🌸", meaning: "和平、純潔、成熟", interpretation: "象徵和平、純潔和成熟的智慧。內心的平靜和和諧。" },
            { id: 31, name: "太陽", symbol: "☀️", meaning: "成功、能量、積極", interpretation: "代表成功、充沛的能量和積極的結果。光明和溫暖的未來。" },
            { id: 32, name: "月亮", symbol: "🌙", meaning: "直覺、週期、榮譽", interpretation: "象徵直覺、自然週期和榮譽。內在智慧的指引。" },
            { id: 33, name: "鑰匙", symbol: "🗝️", meaning: "解答、發現、重要", interpretation: "代表重要的解答、新發現或關鍵的突破。問題的解決方案。" },
            { id: 34, name: "魚", symbol: "🐟", meaning: "財富、獨立、商業", interpretation: "象徵財富、經濟獨立或商業機會。物質方面的豐盛。" },
            { id: 35, name: "錨", symbol: "⚓", meaning: "穩定、安全、工作", interpretation: "代表穩定、安全感和穩固的工作。堅實的基礎和可靠性。" },
            { id: 36, name: "十字架", symbol: "✝️", meaning: "負擔、犧牲、精神", interpretation: "象徵負擔、必要的犧牲或精神成長。通過困難獲得智慧。" }
        ];

        let selectedCards = [];
        let currentMode = 'single';
        let isDrawing = false;

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            setupModeButtons();
            renderCards();
            shuffleCards();
        });

        // 設置模式按鈕
        function setupModeButtons() {
            const modeBtns = document.querySelectorAll('.mode-btn');
            modeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    modeBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentMode = this.dataset.mode;
                    resetCards();
                });
            });
        }

        // 渲染卡片
        function renderCards() {
            const cardSpread = document.getElementById('cardSpread');
            cardSpread.innerHTML = lenormandCards.map(card => `
                <div class="card" data-card-id="${card.id}" onclick="selectCard(${card.id})">
                    <div class="card-face card-back">
                        🔮
                    </div>
                    <div class="card-face card-front">
                        <div class="card-number">${card.id}</div>
                        <div class="card-symbol">${card.symbol}</div>
                        <div class="card-name">${card.name}</div>
                        <div class="card-meaning">${card.meaning}</div>
                    </div>
                </div>
            `).join('');
        }

        // 洗牌動畫
        function shuffleCards() {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.transform = `translateY(${Math.random() * 20 - 10}px) rotateZ(${Math.random() * 10 - 5}deg)`;
                    setTimeout(() => {
                        card.style.transform = '';
                    }, 300);
                }, index * 50);
            });
        }

        // 抽卡
        function drawCards() {
            if (isDrawing) return;
            
            isDrawing = true;
            resetCards();
            
            const cardCount = {
                'single': 1,
                'three': 3,
                'five': 5
            }[currentMode];

            const availableCards = [...lenormandCards];
            const drawnCards = [];

            for (let i = 0; i < cardCount; i++) {
                const randomIndex = Math.floor(Math.random() * availableCards.length);
                drawnCards.push(availableCards.splice(randomIndex, 1)[0]);
            }

            // 翻牌動畫
            drawnCards.forEach((card, index) => {
                setTimeout(() => {
                    const cardElement = document.querySelector(`[data-card-id="${card.id}"]`);
                    cardElement.classList.add('flipped');
                    selectedCards.push(card);
                    
                    if (index === drawnCards.length - 1) {
                        setTimeout(() => {
                            showReading();
                            isDrawing = false;
                        }, 600);
                    }
                }, index * 500);
            });
        }

        // 手動選卡
        function selectCard(cardId) {
            if (isDrawing) return;

            const cardCount = {
                'single': 1,
                'three': 3,
                'five': 5
            }[currentMode];

            if (selectedCards.length >= cardCount) return;

            const card = lenormandCards.find(c => c.id === cardId);
            const cardElement = document.querySelector(`[data-card-id="${cardId}"]`);
            
            if (cardElement.classList.contains('flipped')) return;

            cardElement.classList.add('flipped');
            selectedCards.push(card);

            if (selectedCards.length === cardCount) {
                setTimeout(() => {
                    showReading();
                }, 600);
            }
        }

        // 顯示占卜結果
        function showReading() {
            const readingSection = document.getElementById('readingSection');
            const selectedCardsDiv = document.getElementById('selectedCards');
            const interpretationDiv = document.getElementById('interpretation');

            // 顯示選中的卡片
            selectedCardsDiv.innerHTML = selectedCards.map(card => `
                <div class="selected-card">
                    <div class="card-symbol" style="font-size: 3rem;">${card.symbol}</div>
                    <h3>${card.name}</h3>
                    <p>${card.meaning}</p>
                </div>
            `).join('');

            // 生成解讀
            let interpretation = generateInterpretation();
            interpretationDiv.innerHTML = `
                <h3>🔮 占卜解讀</h3>
                <p>${interpretation}</p>
            `;

            readingSection.classList.add('show');
        }

        // 生成解讀
        function generateInterpretation() {
            if (currentMode === 'single') {
                return selectedCards[0].interpretation;
            } else if (currentMode === 'three') {
                return `
                    <strong>過去：</strong>${selectedCards[0].interpretation}<br><br>
                    <strong>現在：</strong>${selectedCards[1].interpretation}<br><br>
                    <strong>未來：</strong>${selectedCards[2].interpretation}<br><br>
                    這三張卡片顯示了您生命中的時間流動，從過去的經驗到現在的狀況，再到未來的可能發展。
                `;
            } else {
                return `
                    <strong>核心問題：</strong>${selectedCards[2].interpretation}<br><br>
                    <strong>過去影響：</strong>${selectedCards[0].interpretation}<br><br>
                    <strong>現在狀況：</strong>${selectedCards[1].interpretation}<br><br>
                    <strong>未來發展：</strong>${selectedCards[3].interpretation}<br><br>
                    <strong>最終結果：</strong>${selectedCards[4].interpretation}<br><br>
                    這個五卡牌陣為您提供了全面的洞察，從問題的核心到最終的結果。
                `;
            }
        }

        // 重置卡片
        function resetCards() {
            selectedCards = [];
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.classList.remove('flipped');
            });
            
            const readingSection = document.getElementById('readingSection');
            readingSection.classList.remove('show');
        }
    </script>
</body>
</html>
